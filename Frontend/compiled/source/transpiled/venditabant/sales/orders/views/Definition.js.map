{
  "version": 3,
  "sources": [
    "/home/jan/Project/Venditabant/Frontend/source/class/venditabant/sales/orders/views/Definition.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "venditabant",
    "application",
    "base",
    "views",
    "Base",
    "include",
    "locale",
    "MTranslation",
    "construct",
    "destruct",
    "properties",
    "support",
    "nullable",
    "check",
    "members",
    "setParams",
    "params",
    "getView",
    "that",
    "view",
    "ui",
    "container",
    "Composite",
    "layout",
    "Canvas",
    "setBackgroundColor",
    "tabView",
    "tabview",
    "TabView",
    "page1",
    "Page",
    "setLayout",
    "lbl",
    "_createLbl",
    "tr",
    "add",
    "top",
    "left",
    "open",
    "form",
    "CheckBox",
    "_open",
    "setValue",
    "addListener",
    "loadSalesorderList",
    "_createSoTable",
    "_sotable",
    "right",
    "height",
    "page2",
    "rowData",
    "tableModel",
    "table",
    "model",
    "Simple",
    "setColumns",
    "setData",
    "Table",
    "set",
    "width",
    "getSelectionModel",
    "setSelectionMode",
    "selection",
    "Model",
    "SINGLE_SELECTION",
    "e",
    "selectionModel",
    "getTarget",
    "selectedRows",
    "iterateSelection",
    "index",
    "push",
    "getTableModel",
    "getRowData",
    "tcm",
    "getTableColumnModel",
    "setColumnVisible",
    "setColumnWidth",
    "setDataCellRenderer",
    "cellrenderer",
    "Boolean",
    "salesorders",
    "sales",
    "orders",
    "models",
    "Salesorders",
    "response",
    "tableData",
    "i",
    "data",
    "length",
    "salesorders_pkey",
    "customer",
    "orderno",
    "orderdate",
    "deliverydate",
    "customers_fkey",
    "users_fkey",
    "getValue",
    "Definition"
  ],
  "mappings": "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",
  "sourcesContent": [
    "\nqx.Class.define ( \"venditabant.sales.orders.views.Definition\",\n    {\n        extend: venditabant.application.base.views.Base,\n        include:[qx.locale.MTranslation],\n        construct: function () {\n        },\n        destruct: function () {\n        },\n        properties : {\n            support : { nullable : true, check: \"Boolean\" }\n        },\n        members: {\n            // Public functions ...\n\n            setParams: function (params) {\n            },\n            getView: function () {\n                let that = this;\n                let view = new qx.ui.container.Composite(new qx.ui.layout.Canvas());\n                view.setBackgroundColor(\"white\");\n\n                // Add a TabView\n                var tabView = new qx.ui.tabview.TabView();\n                //view.add(tabView, {top: 0, left: 5, right: 5, height: \"90%\"});\n\n                var page1 = new qx.ui.tabview.Page(\"Salesorders\");\n                page1.setLayout(new qx.ui.layout.Canvas());\n\n                let lbl = this._createLbl(this.tr( \"Open\" ),70);\n                page1.add ( lbl, { top: 10, left: 10 } );\n\n                let open = new qx.ui.form.CheckBox(\"\");\n                this._open = open;\n                this._open.setValue(true);\n                open.addListener('changeValue',function() {\n                    that.loadSalesorderList();\n                })\n                page1.add ( open, { top: 10, left: 90 } );\n\n\n\n                this._createSoTable();\n\n                page1.add(this._sotable,{top: 50, left:5, right:5, height:\"90%\"});\n                tabView.add(page1);\n\n                var page2 = new qx.ui.tabview.Page(\"Salesorder\");\n                page2.setLayout(new qx.ui.layout.Canvas());\n\n                lbl = this._createLbl(this.tr( \"Customer\" ),70);\n                page2.add ( lbl, { top: 10, left: 10 } );\n\n                lbl = this._createLbl(this.tr( \"Customer\" ),70);\n                page2.add ( lbl, { top: 10, left: 90 } );\n\n                lbl = this._createLbl(this.tr( \"Orderno\" ),70);\n                page2.add ( lbl, { top: 10, left: 250 } );\n\n                lbl = this._createLbl(this.tr( \"Orderno\" ),70);\n                page2.add ( lbl, { top: 10, left: 350 } );\n\n                lbl = this._createLbl(this.tr( \"Orderdate\" ),70);\n                page2.add ( lbl, { top: 10, left: 450 } );\n\n                lbl = this._createLbl(this.tr( \"Orderdate\" ),70);\n                page2.add ( lbl, { top: 10, left: 550 } );\n\n                /*let stockitem = this._createTxt(\n                    this.tr( \"Stockitem\" ),150,true,this.tr(\"Stockitem is required\")\n                );\n\n                page2.add ( stockitem, { top: 10, left: 90 } );\n                this._stockitem = stockitem;\n\n                lbl = this._createLbl(this.tr( \"Description\" ),70);\n                page2.add ( lbl, { top: 10, left: 250 } );\n\n                let descriptn = this._createTxt(\n                    this.tr( \"Description\" ),250,true,this.tr(\"Description is required\")\n                );\n                page2.add ( descriptn, { top: 10, left: 350 } );\n                this._description = descriptn;\n\n                lbl = this._createLbl(this.tr( \"Price\" ),70);\n                page2.add ( lbl, { top: 50, left: 10 } );\n\n                let price = this._createTxt(\n                    this.tr( \"Price\" ),80,false\n                );\n\n                page2.add ( price, { top: 50, left: 90 } );\n                this._price = price;\n\n                lbl = this._createLbl(this.tr( \"PO price\" ),70);\n                page2.add ( lbl, { top: 50, left: 250 } );\n\n                let purchprice = this._createTxt(\n                    this.tr( \"Purchase price\" ),80,false\n                );\n\n                page2.add ( purchprice, { top: 50, left: 350 } );\n                this._purchaseprice = purchprice;\n\n                lbl = this._createLbl(this.tr( \"Active\" ),70);\n                page2.add ( lbl, { top: 90, left: 10 } );\n\n                let active = new qx.ui.form.CheckBox(\"\");\n                page2.add ( active, { top: 90, left: 90 } );\n                this._active = active;\n\n                lbl = this._createLbl(this.tr( \"Stocked\" ),70);\n                page2.add ( lbl, { top: 90, left: 250 } );\n\n                let stocked = new qx.ui.form.CheckBox(\"\");\n                page2.add ( stocked, { top: 90, left: 350 } );\n                this._stocked = stocked;\n\n                let btnSignup = this._createBtn ( this.tr ( \"Save\" ), \"rgba(239,170,255,0.44)\", 135, function ( ) {\n                    this.saveStockitem ( );\n                }, this );\n                page2.add ( btnSignup, { bottom: 10, left: 10 } );\n\n                let btnCancel = this._createBtn ( this.tr ( \"Cancel\" ), \"#FFAAAA70\", 135, function ( ) {\n                    this.cancel ( );\n                }, this );\n                page2.add ( btnCancel, { bottom: 10, right: 10 } );*/\n\n                tabView.add(page2);\n\n                /*var page2 = new qx.ui.tabview.Page(\"Page 2\");\n                tabView.add(page2);\n\n                var page3 = new qx.ui.tabview.Page(\"Page 3\");\n                tabView.add(page3);*/\n\n                view.add(tabView, {top:5, left:5, right:5,height:\"95%\"});\n                this.loadSalesorderList();\n                return view;\n\n            },\n            _createSoTable : function() {\n                // Create the initial data\n                let rowData =  '';\n                let that = this;\n\n                // table model\n                var tableModel = new qx.ui.table.model.Simple();\n                tableModel.setColumns(\n                    [ \"ID\", \"Customer\", \"Orderno\", \"Order date\",\"Delivery date\",\"Open\", \"customers_fkey\", \"users_fkey\" ]\n                );\n                tableModel.setData(rowData);\n                // table\n                var table = new qx.ui.table.Table(tableModel);\n\n                table.set({\n                    width: 800,\n                    height: 345\n                });\n\n                table.getSelectionModel().setSelectionMode(qx.ui.table.selection.Model.SINGLE_SELECTION);\n                table.getSelectionModel().addListener('changeSelection', function(e){\n                    var selectionModel = e.getTarget();\n                    var selectedRows = [];\n                    selectionModel.iterateSelection(function(index) {\n                        selectedRows.push(table.getTableModel().getRowData(index));\n                    });\n\n                });\n                var tcm = table.getTableColumnModel();\n                tcm.setColumnVisible(0,false);\n                tcm.setColumnVisible(6,false);\n                tcm.setColumnVisible(7,false);\n                tcm.setColumnWidth(1,300);\n                tcm.setDataCellRenderer(5, new qx.ui.table.cellrenderer.Boolean());\n\n                this._sotable = table;\n            },\n            loadSalesorderList:function () {\n                let salesorders = new venditabant.sales.orders.models.Salesorders();\n                salesorders.loadSalesorderList(function(response) {\n                    let tableData = [];\n                    for(let i = 0; i < response.data.length; i++) {\n                        let open = response.data[i].open ? true : false;\n                        tableData.push([\n                                response.data[i].salesorders_pkey,\n                                response.data[i].customer,\n                                response.data[i].orderno,\n                                response.data[i].orderdate,\n                                response.data[i].deliverydate,\n                                open,\n                                response.data[i].customers_fkey,\n                                response.data[i].users_fkey,\n                            ]);\n                    }\n                    this._sotable.getTableModel().setData(tableData);\n                    //alert(\"Set table data here\");\n                }, this, this._open.getValue());\n                //return ;//list;\n            }\n        }\n    });\n"
  ]
}